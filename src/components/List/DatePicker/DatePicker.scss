@use "~@/assets/styles/custom-media.scss";
@use "~@/assets/styles/c-btn.scss";

@function vw($size, $viewport) {
  $vw: $viewport * 0.01;
  @return $size / $vw * 1vw;
}

.date-picker {
  position: relative;
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--desktop) {
    position: sticky;
    top: 6rem;
  }
}

//****  HEADER & PICKER-INPUT ****//
.date-picker__header {
  --bg-color: rgba(0, 0, 0, 0);
  --color: #000;
  --bd-color: #dadada;
  --bd-width: 1px;
  --trs-dur: 0.2s;
  --mod: 1.5;
  
  display: flex;
  width: 100%;
  min-height: 5.5rem;
  color: var(--color);
  
  transition: color var(--trs-dur);
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--tablet) {
    min-height: calc(5.5rem * var(--mod));
  }
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--desktop) {
    min-height: vw(68, 1920);
  }
}

.date-picker__header--dark {
  --bg-color: rgba(0, 0, 0, 1);
  --color: #fff;
  --bd-color: #2c2c2c;
}

.date-picker__header .btn {
  flex-basis: calc(50 / 300 * 100%);
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--desktop) {
    flex-basis: calc(68 / 480 * 100%);
  }
}

.picker {
  --bd: var(--bd-width, 1px) solid var(--bd-color, #dadada);
  
  position: relative;
  
  border-top: var(--bd);
  border-bottom: var(--bd);
}

.date-picker__header .picker {
  flex-grow: 2;
}

.picker__input {
  position: relative;
  z-index: 10;
  
  width: 100%;
  height: 100%;
  
  color: transparent;
  font-size: 1.6rem;
  //opacity: 0;
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--desktop) {
    font-size: 0;
  }
}

.picker__label {
  position: absolute;
  top: 0;
  left: 0;
  
  display: flex;
  justify-content: center;
  align-items: center;
  
  width: 100%;
  height: 100%;
  
  background-color: var(--bg-color);
  text-align: center;
  
  transition: background-color var(--trs-dur);
}

.picker__value {
  font-size: 1.8rem;
  font-weight: 600;
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--tablet) {
    font-size: calc(1.8rem * var(--mod));
  }
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--desktop) {
    font-size: 2rem;
    text-transform: capitalize;
  }
}

.picker__icon {
  --size: 1.5rem;
  
  width: var(--size);
  height: var(--size);
  margin-left: 0.8rem;
  
  fill: currentColor;
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--tablet) {
    --size: calc(1.5rem * var(--mod));
  }
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--desktop) {
    display: none;
  }
}

//****  INNER & PICKER-CONTAINER (CALENDAR) ****//
.date-picker__inner {
  --datepicker-cols: 7;
  --datepicker-rows: 6;
  --wrapper-width: calc(100vw - (var(--page-gap) * 2));
  --datepicker-cell-size: calc(var(--wrapper-width) / var(--datepicker-cols));
  --datepicker-height: calc(var(--datepicker-cell-size) * var(--datepicker-rows));
  
  
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 9999;
  
  width: 100%;
  padding-top: 1rem;
  
  background-color: #fff;
  
  opacity: 0;
  animation: none;
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--desktop) {
    --wrapper-width: #{vw(480, 1920)};
    
    position: relative;
    padding-top: 0;
  }
}

.date-picker__inner.is-open {
  //@apply animation
  animation: fpFadeInDown 0.3s cubic-bezier(.23,1,.32,1) forwards;
}

.date-picker__inner.is-inline {
  opacity: 1;
}

.date-picker__elm-wrapper {
  position: relative;
  height: var(--datepicker-height);
  margin-bottom: 2rem;
}

//****  INNER BUTTONS ****//
.date-picker__inner .btn {
  width: 100%;
  //margin-bottom: 1.5rem;
  padding-top: 1.4rem;
  padding-bottom: 1.4rem;
  font-size: 1.8rem;
  
  //noinspection CssInvalidMediaFeature
  @media screen and (--desktop) {
    display: none;
  }
}
